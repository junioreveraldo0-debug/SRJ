exports.id=597,exports.ids=[597],exports.modules={9597:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var o=r(997);r(6764);var n=r(169);let __WEBPACK_DEFAULT_EXPORT__=function({Component:t,pageProps:e}){return o.jsx(n.Ho,{children:o.jsx(t,{...e})})}},169:(t,e,r)=>{"use strict";r.d(e,{Ho:()=>AuthProvider,aC:()=>useAuth});var o=r(997),n=r(6689),s=r(1163),i=r.n(s);let u=(0,n.createContext)();function AuthProvider({children:t}){let[e,r]=(0,n.useState)(null);(0,n.useEffect)(()=>{},[]);let login=async(t,e)=>{let o=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:e})});if(o.ok){let e=await o.json();return localStorage.setItem("estoque_srj_user",JSON.stringify({username:t,token:e.token})),r({username:t,token:e.token}),i().push("/dashboard"),!0}let n=await o.json().catch(()=>({error:"Login failed"}));throw Error(n.error||"Login failed")};return o.jsx(u.Provider,{value:{user:e,login,logout:()=>{r(null),i().push("/")}},children:t})}function useAuth(){return(0,n.useContext)(u)}},6764:()=>{}};