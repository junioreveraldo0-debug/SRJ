(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[513],{9143:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/entrada",function(){return t(6022)}])},1727:function(e,a,t){"use strict";t.d(a,{Z:function(){return TopNav}});var l=t(5893),s=t(1664),n=t.n(s),r=t(1163),i=t(169);function TopNav(){let e=(0,r.useRouter)(),{user:a,logout:t}=(0,i.aC)();if(!a)return null;let s=[{href:"/dashboard",label:"Dashboard"},{href:"/articles",label:"Artigos"},{href:"/entrada",label:"Entrada"},{href:"/saida",label:"Sa\xedda"},{href:"/estoque",label:"Estoque"},{href:"/contagem",label:"Contagem"},{href:"/usuarios",label:"Usu\xe1rios"}];return(0,l.jsxs)("header",{className:"header sticky top-0 z-40 shadow-sm",children:[(0,l.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between p-3",children:[(0,l.jsx)("div",{className:"flex items-center gap-4",children:(0,l.jsx)("img",{src:"/srj-logo.svg",alt:"SRJ",width:"140"})}),(0,l.jsx)("nav",{className:"hidden md:flex gap-2",children:s.map(a=>{let t=e.pathname===a.href;return(0,l.jsx)(n(),{href:a.href,children:(0,l.jsx)("div",{className:"nav-tab ".concat(t?"nav-tab-active":""),children:a.label})},a.href)})}),(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[(0,l.jsxs)("div",{className:"text-sm text-gray-600",children:["Ol\xe1, ",null==a?void 0:a.username]}),(0,l.jsx)("button",{onClick:()=>{t()},className:"bg-brand-500 text-white px-3 py-1 rounded no-print",children:"Sair"})]})]}),(0,l.jsx)("div",{className:"md:hidden overflow-auto",children:(0,l.jsx)("div",{className:"flex gap-2 px-3 pb-2",children:s.map(e=>(0,l.jsx)(n(),{href:e.href,children:(0,l.jsx)("div",{className:"nav-tab",children:e.label})},e.href))})})]})}},6022:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Entrada}});var l=t(5893),s=t(7294),n=t(1727),r=t(1163),i=t.n(r),d=t(6976);let f=e=>fetch(e).then(e=>e.json());function Entrada(){let{data:e}=(0,d.ZP)("/api/articles",f),[a,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),[c,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[x,p]=(0,s.useState)(""),[b,v]=(0,s.useState)(null),submit=async()=>{let e=await fetch("/api/rolls",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({article_id:a,initial_quantity:r,nuance:c,lot_number:h,location:x})});if(e.ok){let a=await e.json();i().push("/label/"+a.id)}else v("Erro ao registrar")};return(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(n.Z,{}),(0,l.jsxs)("main",{className:"max-w-5xl mx-auto p-4",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-brand-500",children:"Entrada de Tecido"}),(0,l.jsxs)("div",{className:"mt-4 p-4 bg-white rounded shadow space-y-2",children:[(0,l.jsxs)("select",{value:a,onChange:e=>t(e.target.value),className:"w-full border p-2 rounded",children:[(0,l.jsx)("option",{value:"",children:"-- Selecionar Artigo --"}),null==e?void 0:e.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," — ",e.supplier," — ",e.width,"cm"]},e.id))]}),(0,l.jsx)("input",{value:r,onChange:e=>o(e.target.value),placeholder:"Metragem (m)",className:"w-full border p-2 rounded"}),(0,l.jsx)("input",{value:c,onChange:e=>u(e.target.value),placeholder:"Nuance",className:"w-full border p-2 rounded"}),(0,l.jsx)("input",{value:h,onChange:e=>m(e.target.value),placeholder:"N\xfamero do Lote",className:"w-full border p-2 rounded"}),(0,l.jsx)("input",{value:x,onChange:e=>p(e.target.value),placeholder:"Localiza\xe7\xe3o (opcional)",className:"w-full border p-2 rounded"}),(0,l.jsx)("button",{onClick:submit,className:"bg-brand-500 text-white rounded p-2",children:"Registrar Entrada e Imprimir Etiqueta"}),b&&(0,l.jsx)("div",{className:"text-red-600",children:b})]})]})]})}}},function(e){e.O(0,[664,976,774,888,179],function(){return e(e.s=9143)}),_N_E=e.O()}]);